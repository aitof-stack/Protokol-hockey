<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ç–æ–∫–æ–ª —Ö–æ–∫–∫–µ–π–Ω–æ–≥–æ –º–∞—Ç—á–∞</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="toolbar">
        <div class="toolbar-group protocol-navigation">
            <button onclick="previousProtocol()" class="nav-btn" title="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª">
                <i class="fas fa-chevron-left"></i>
            </button>
            <span class="protocol-counter">
                <span id="currentProtocolNum">1</span>/<span id="totalProtocols">1</span>
            </span>
            <button onclick="nextProtocol()" class="nav-btn" title="–°–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        
        <div class="toolbar-group">
            <button onclick="newProtocol()" class="btn btn-new-protocol" title="–ù–æ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª">
                <i class="fas fa-plus"></i> –ù–æ–≤—ã–π
            </button>
            <button onclick="duplicateProtocol()" class="btn btn-duplicate" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª">
                <i class="fas fa-copy"></i> –ö–æ–ø–∏—è
            </button>
            <button onclick="deleteProtocol()" class="btn btn-delete" title="–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª">
                <i class="fas fa-trash"></i>
            </button>
        </div>
        
        <div class="toolbar-group">
            <input type="text" id="matchNumber" placeholder="‚Ññ –º–∞—Ç—á–∞" title="–ù–æ–º–µ—Ä –º–∞—Ç—á–∞">
            <input type="date" id="matchDate" title="–î–∞—Ç–∞ –º–∞—Ç—á–∞">
            <input type="time" id="matchTime" title="–í—Ä–µ–º—è –º–∞—Ç—á–∞">
        </div>
        
        <div class="toolbar-group">
            <label class="btn btn-import" title="–ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø">
                <i class="fas fa-image"></i> –õ–æ–≥–æ
                <input type="file" id="logoUpload" accept="image/*" style="display: none;" onchange="uploadLogo(event)">
            </label>
            <button onclick="importCSV()" class="btn btn-import" title="–ò–º–ø–æ—Ä—Ç —Å–æ—Å—Ç–∞–≤–æ–≤ –∫–æ–º–∞–Ω–¥">
                <i class="fas fa-file-import"></i> –°–æ—Å—Ç–∞–≤—ã
            </button>
            <button onclick="toggleLiveMode()" class="btn btn-live" id="liveModeBtn" title="–†–µ–∂–∏–º –º–∞—Ç—á–∞">
                <i class="fas fa-play"></i> –ú–∞—Ç—á
            </button>
        </div>
        
        <div class="toolbar-group">
            <button onclick="showFileManagementMenu()" class="btn btn-import-file" title="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏">
                <i class="fas fa-folder-open"></i> –§–∞–π–ª—ã
            </button>
            <button onclick="exportCurrentProtocol()" class="btn btn-export-file" title="–≠–∫—Å–ø–æ—Ä—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞">
                <i class="fas fa-save"></i> –≠–∫—Å–ø–æ—Ä—Ç
            </button>
            <button onclick="exportPDF()" class="btn btn-export" title="–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF">
                <i class="fas fa-file-pdf"></i> PDF
            </button>
        </div>
        
        <div class="toolbar-group">
            <button onclick="openStatistics()" class="btn btn-statistics" title="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">
                <i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            </button>
            <button onclick="saveAllProtocols()" class="btn btn-save" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ">
                <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
            </button>
            <button onclick="restoreFromBackup()" class="btn btn-backup" title="–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏">
                <i class="fas fa-history"></i> –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
            </button>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å –∂–∏–≤–æ–≥–æ –º–∞—Ç—á–∞ -->
    <div id="livePanel" class="live-panel" style="display: none;">
        <!-- Scoreboard -->
        <div class="scoreboard">
            <div class="team-score">
                <h2 id="liveTeamA">–ö–æ–º–∞–Ω–¥–∞ –ê</h2>
                <div class="score" id="scoreA">0</div>
            </div>
            
            <div class="timer-section">
                <div class="period">–ü–µ—Ä–∏–æ–¥: <span id="currentPeriod">1</span></div>
                <div class="timer" id="gameTimer">15:00</div>
                <div class="timer-controls">
                    <button onclick="startTimer()" id="startBtn" title="–°—Ç–∞—Ä—Ç">
                        <i class="fas fa-play"></i>
                    </button>
                    <button onclick="pauseTimer()" id="pauseBtn" title="–ü–∞—É–∑–∞">
                        <i class="fas fa-pause"></i>
                    </button>
                    <button onclick="resetTimer()" title="–°–±—Ä–æ—Å">
                        <i class="fas fa-redo"></i>
                    </button>
                    <button onclick="nextPeriod()" title="–°–ª–µ–¥—É—é—â–∏–π –ø–µ—Ä–∏–æ–¥">
                        <i class="fas fa-forward"></i>
                    </button>
                </div>
            </div>
            
            <div class="team-score">
                <h2 id="liveTeamB">–ö–æ–º–∞–Ω–¥–∞ –ë</h2>
                <div class="score" id="scoreB">0</div>
            </div>
        </div>

        <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã -->
        <div class="active-penalties-panel">
            <h3><i class="fas fa-exclamation-triangle"></i> –¢–µ–∫—É—â–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h3>
            <div class="penalties-container">
                <div class="penalty-team">
                    <h4 id="activePenaltiesTeamA">–ö–æ–º–∞–Ω–¥–∞ –ê: 0</h4>
                    <div id="activePenaltiesListA" class="penalty-list"></div>
                </div>
                <div class="penalty-team">
                    <h4 id="activePenaltiesTeamB">–ö–æ–º–∞–Ω–¥–∞ –ë: 0</h4>
                    <div id="activePenaltiesListB" class="penalty-list"></div>
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π -->
        <div class="action-panel">
            <button onclick="showPenaltyShotDialog('A')" class="action-btn penalty-shot-btn" title="–ë—É–ª–ª–∏—Ç –∫–æ–º–∞–Ω–¥—ã –ê">
                <i class="fas fa-crosshairs"></i> –ë—É–ª–ª–∏—Ç –ê
            </button>
            <button onclick="showPenaltyDialog('A')" class="action-btn penalty-btn" title="–®—Ç—Ä–∞—Ñ –∫–æ–º–∞–Ω–¥—ã –ê">
                <i class="fas fa-exclamation-circle"></i> –®—Ç—Ä–∞—Ñ –ê
            </button>
            <button onclick="showGoalDialog('A')" class="action-btn goal-btn-a" title="–ì–æ–ª –∫–æ–º–∞–Ω–¥—ã –ê">
                <i class="fas fa-hockey-puck"></i> –ì–æ–ª –ê
            </button>
            <button onclick="showGoalDialog('B')" class="action-btn goal-btn-b" title="–ì–æ–ª –∫–æ–º–∞–Ω–¥—ã –ë">
                <i class="fas fa-hockey-puck"></i> –ì–æ–ª –ë
            </button>
            <button onclick="showPenaltyDialog('B')" class="action-btn penalty-btn" title="–®—Ç—Ä–∞—Ñ –∫–æ–º–∞–Ω–¥—ã –ë">
                <i class="fas fa-exclamation-circle"></i> –®—Ç—Ä–∞—Ñ –ë
            </button>
            <button onclick="showPenaltyShotDialog('B')" class="action-btn penalty-shot-btn" title="–ë—É–ª–ª–∏—Ç –∫–æ–º–∞–Ω–¥—ã –ë">
                <i class="fas fa-crosshairs"></i> –ë—É–ª–ª–∏—Ç –ë
            </button>
        </div>

        <!-- –í—Ä–∞—Ç–∞—Ä–∏ -->
        <div class="goalies-panel">
            <div class="goalie-control">
                <h4><i class="fas fa-shield-alt"></i> –í—Ä–∞—Ç–∞—Ä—å –∫–æ–º–∞–Ω–¥—ã –ê</h4>
                <div class="goalie-info">
                    <select id="activeGoalieA" onchange="changeGoalie('A')">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–∞—Ç–∞—Ä—è</option>
                    </select>
                    <div class="goalie-stats-live">
                        <span>–°–µ–π–≤—ã: <strong id="savesA">0</strong></span>
                        <span>–ü—Ä–æ–ø—É—â–µ–Ω–æ: <strong id="goalsAgainstA">0</strong></span>
                        <span>–í—Ä–µ–º—è: <strong id="timeOnIceA">00:00</strong></span>
                    </div>
                </div>
                <button onclick="registerSave('A')" class="save-btn" title="–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π–≤">
                    <i class="fas fa-hands"></i> –°–µ–π–≤
                </button>
            </div>
            
            <div class="goalie-control">
                <h4><i class="fas fa-shield-alt"></i> –í—Ä–∞—Ç–∞—Ä—å –∫–æ–º–∞–Ω–¥—ã –ë</h4>
                <div class="goalie-info">
                    <select id="activeGoalieB" onchange="changeGoalie('B')">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–∞—Ç–∞—Ä—è</option>
                    </select>
                    <div class="goalie-stats-live">
                        <span>–°–µ–π–≤—ã: <strong id="savesB">0</strong></span>
                        <span>–ü—Ä–æ–ø—É—â–µ–Ω–æ: <strong id="goalsAgainstB">0</strong></span>
                        <span>–í—Ä–µ–º—è: <strong id="timeOnIceB">00:00</strong></span>
                    </div>
                </div>
                <button onclick="registerSave('B')" class="save-btn" title="–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π–≤">
                    <i class="fas fa-hands"></i> –°–µ–π–≤
                </button>
            </div>
        </div>

        <!-- –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π -->
        <div class="events-log">
            <h3><i class="fas fa-history"></i> –°–æ–±—ã—Ç–∏—è –º–∞—Ç—á–∞</h3>
            <div id="eventsLog"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="goalDialog" class="modal">
        <div class="modal-content">
            <h3><i class="fas fa-hockey-puck"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≥–æ–ª–∞</h3>
            <div class="situation-display">
                <strong>–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:</strong> <span id="currentSituationText">–†–∞–≤–Ω—ã–µ —Å–æ—Å—Ç–∞–≤—ã</span>
            </div>
            <label>–ê–≤—Ç–æ—Ä –≥–æ–ª–∞:</label>
            <select id="goalScorer"></select>
            
            <label>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç 1:</label>
            <select id="assist1">
                <option value="">–ù–µ—Ç</option>
            </select>
            
            <label>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç 2:</label>
            <select id="assist2">
                <option value="">–ù–µ—Ç</option>
            </select>
            
            <label>–ò–≥—Ä–æ–≤–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:</label>
            <select id="gameSituation">
                <option value="">–†–∞–≤–Ω—ã–µ —Å–æ—Å—Ç–∞–≤—ã</option>
                <option value="+1">+1 (–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ 5 –Ω–∞ 4, 4 –Ω–∞ 3)</option>
                <option value="+2">+2 (–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ 5 –Ω–∞ 3)</option>
                <option value="-1">-1 (–ú–µ–Ω—å—à–∏–Ω—Å—Ç–≤–æ 4 –Ω–∞ 5, 3 –Ω–∞ 4)</option>
                <option value="-2">-2 (–ú–µ–Ω—å—à–∏–Ω—Å—Ç–≤–æ 3 –Ω–∞ 5)</option>
                <option value="–ü–í">–ü–í (–ü—É—Å—Ç—ã–µ –≤–æ—Ä–æ—Ç–∞)</option>
                <option value="–®–ë">–®–ë (–®—Ç—Ä–∞—Ñ–Ω–æ–π –±—Ä–æ—Å–æ–∫)</option>
            </select>
            
            <div class="modal-buttons">
                <button onclick="confirmGoal()" class="btn-confirm">
                    <i class="fas fa-check"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                </button>
                <button onclick="closeModal('goalDialog')" class="btn-cancel">
                    <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </div>
    </div>

    <div id="penaltyDialog" class="modal">
        <div class="modal-content">
            <h3><i class="fas fa-exclamation-circle"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —à—Ç—Ä–∞—Ñ–∞</h3>
            <label>–ò–≥—Ä–æ–∫:</label>
            <select id="penaltyPlayer"></select>
            
            <label>–í—Ä–µ–º—è —à—Ç—Ä–∞—Ñ–∞:</label>
            <select id="penaltyMinutes">
                <option value="2">2 –º–∏–Ω—É—Ç—ã (–ú–∞–ª—ã–π)</option>
                <option value="4">2+2 –º–∏–Ω—É—Ç—ã (–î–≤–æ–π–Ω–æ–π –º–∞–ª—ã–π)</option>
                <option value="5">5 –º–∏–Ω—É—Ç (–ë–æ–ª—å—à–æ–π)</option>
                <option value="10">10 –º–∏–Ω—É—Ç (–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω—ã–π)</option>
                <option value="20">–î–æ –∫–æ–Ω—Ü–∞ –∏–≥—Ä—ã (–ú–∞—Ç—á)</option>
            </select>
            
            <label>–ù–∞—Ä—É—à–µ–Ω–∏–µ:</label>
            <input type="text" id="penaltyReason" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ó–∞–¥–µ—Ä–∂–∫–∞ –∫–ª—é—à–∫–æ–π">
            
            <div class="modal-buttons">
                <button onclick="confirmPenalty()" class="btn-confirm">
                    <i class="fas fa-check"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                </button>
                <button onclick="closeModal('penaltyDialog')" class="btn-cancel">
                    <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </div>
    </div>

    <div id="penaltyShotDialog" class="modal">
        <div class="modal-content">
            <h3><i class="fas fa-crosshairs"></i> –ë—É–ª–ª–∏—Ç (–®—Ç—Ä–∞—Ñ–Ω–æ–π –±—Ä–æ—Å–æ–∫)</h3>
            <p style="color: #666; margin-bottom: 15px; font-size: 13px;">
                –ù–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –∑–∞ —Å–æ—Ä–≤–∞–Ω–Ω—ã–π –≤—ã—Ö–æ–¥ –æ–¥–∏–Ω –Ω–∞ –æ–¥–∏–Ω. –í—Ä–µ–º—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.
            </p>
            
            <label>–ò–≥—Ä–æ–∫, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π –±—É–ª–ª–∏—Ç:</label>
            <select id="penaltyShotPlayer"></select>
            
            <label>–í—Ä–∞—Ç–∞—Ä—å —Å–æ–ø–µ—Ä–Ω–∏–∫–∞:</label>
            <select id="penaltyShotGoalie"></select>
            
            <div class="modal-buttons">
                <button onclick="executePenaltyShot(true)" class="btn-confirm">
                    <i class="fas fa-check"></i> –ì–æ–ª
                </button>
                <button onclick="executePenaltyShot(false)" class="btn-cancel">
                    <i class="fas fa-times"></i> –ü—Ä–æ–º–∞—Ö
                </button>
            </div>
        </div>
    </div>

    <div id="shootoutModal" class="modal">
        <div class="modal-content">
            <h3><i class="fas fa-trophy"></i> –°–µ—Ä–∏—è –ø–æ—Å–ª–µ–º–∞—Ç—á–µ–≤—ã—Ö –±—Ä–æ—Å–∫–æ–≤</h3>
            <div class="shootout-score">
                <div class="shootout-team">
                    <h4 id="shootoutTeamAName">–ö–æ–º–∞–Ω–¥–∞ –ê</h4>
                    <div class="shootout-score-num" id="shootoutScoreA">0</div>
                </div>
                
                <div class="shootout-info">
                    <div>–ë—Ä–æ—Å–æ–∫: <span id="shootoutRoundNum">1</span></div>
                    <div id="shootoutPhase">–û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ä–∏—è (–ø–æ 3 –±—Ä–æ—Å–∫–∞)</div>
                    <div>–ë—Ä–æ—Å–∞–µ—Ç: –ö–æ–º–∞–Ω–¥–∞ <span id="shootoutCurrentTeam">–ê</span></div>
                </div>
                
                <div class="shootout-team">
                    <h4 id="shootoutTeamBName">–ö–æ–º–∞–Ω–¥–∞ –ë</h4>
                    <div class="shootout-score-num" id="shootoutScoreB">0</div>
                </div>
            </div>
            
            <div class="shootout-buttons">
                <button onclick="shootoutGoal('A')" class="btn-shootout goal">
                    <i class="fas fa-hockey-puck"></i> –ì–æ–ª –∫–æ–º–∞–Ω–¥—ã –ê
                </button>
                <button onclick="shootoutMiss('A')" class="btn-shootout miss">
                    <i class="fas fa-times"></i> –ü—Ä–æ–º–∞—Ö –∫–æ–º–∞–Ω–¥—ã –ê
                </button>
                <button onclick="shootoutGoal('B')" class="btn-shootout goal">
                    <i class="fas fa-hockey-puck"></i> –ì–æ–ª –∫–æ–º–∞–Ω–¥—ã –ë
                </button>
                <button onclick="shootoutMiss('B')" class="btn-shootout miss">
                    <i class="fas fa-times"></i> –ü—Ä–æ–º–∞—Ö –∫–æ–º–∞–Ω–¥—ã –ë
                </button>
            </div>
            
            <button onclick="finishShootout()" class="btn-finish-shootout">
                <i class="fas fa-flag-checkered"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å –±—É–ª–ª–∏—Ç—ã
            </button>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª -->
    <div id="protocol" class="protocol">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="header">
            <div class="logo" id="logoContainer">
                <img id="logoImage" src="" alt="–õ–æ–≥–æ—Ç–∏–ø" style="display: none;">
                <span id="logoEmoji">üèí</span>
            </div>
            
            <div class="header-center">
                <h1>–ü–†–û–¢–û–ö–û–õ –ú–ê–¢–ß–ê</h1>
                <div class="tournament-type">–†–µ–≥—É–ª—è—Ä–Ω—ã–π —Ç—É—Ä–Ω–∏—Ä 5—Ö5</div>
            </div>
            
            <div class="match-info">
                <span>‚Ññ –ú–∞—Ç—á–∞: <strong id="displayMatchNumber">___</strong></span><br>
                <span>–î–∞—Ç–∞: <strong id="displayDate">___</strong></span><br>
                <span>–í—Ä–µ–º—è: <strong id="displayTime">___</strong></span>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–∞—Ç—á–∞ -->
        <div class="match-details">
            <div class="detail-row">
                <span>–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ: <input type="text" id="competition" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—É—Ä–Ω–∏—Ä–∞"></span>
                <span>–ì–æ—Ä–æ–¥: <input type="text" id="city" placeholder="–ì–æ—Ä–æ–¥"></span>
                <span>–ê—Ä–µ–Ω–∞: <input type="text" id="arena" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∞—Ä–µ–Ω—ã"></span>
            </div>
            
            <div class="detail-row">
                <span>–ö–æ–º–∞–Ω–¥–∞ (–ê): <input type="text" id="teamA" placeholder="–ö–æ–º–∞–Ω–¥–∞ –ê"></span>
                <span>–ö–æ–º–∞–Ω–¥–∞ (–ë): <input type="text" id="teamB" placeholder="–ö–æ–º–∞–Ω–¥–∞ –ë"></span>
                <span>–ó—Ä–∏—Ç–µ–ª–∏: <input type="number" id="spectators" placeholder="0"></span>
            </div>
        </div>

        <!-- –ö–æ–º–∞–Ω–¥–∞ –ê -->
        <div class="team-section">
            <div class="team-header team-a-header">
                <span>–ö–æ–º–∞–Ω–¥–∞ (–ê)</span>
                <span id="teamAName">–ö–û–ú–ê–ù–î–ê "–ê"</span>
            </div>
            
            <table class="roster-table">
                <thead>
                    <tr>
                        <th rowspan="2">‚Ññ</th>
                        <th rowspan="2">–§–∞–º–∏–ª–∏—è –ò–º—è</th>
                        <th rowspan="2">–ö/–ê</th>
                        <th rowspan="2">–ü–æ–∑</th>
                        <th rowspan="2">–ò–≥—Ä</th>
                        <th colspan="6">–í–∑—è—Ç–∏–µ –≤–æ—Ä–æ—Ç</th>
                        <th colspan="6">–£–¥–∞–ª–µ–Ω–∏—è</th>
                    </tr>
                    <tr>
                        <th>#</th>
                        <th>–í—Ä–µ–º—è</th>
                        <th>–ì</th>
                        <th>–ê1</th>
                        <th>–ê2</th>
                        <th>–ò/–°</th>
                        <th>–í—Ä–µ–º—è</th>
                        <th>‚Ññ</th>
                        <th>–ú–∏–Ω</th>
                        <th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th>
                        <th>–ù–∞—á</th>
                        <th>–û–∫–æ–Ω</th>
                    </tr>
                </thead>
                <tbody id="teamARoster">
                    <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </tbody>
            </table>
            
            <div class="coach-row">
                –ì–ª–∞–≤–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä: <input type="text" id="coachA" class="coach-input" placeholder="–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ">
            </div>
        </div>

        <!-- –ö–æ–º–∞–Ω–¥–∞ –ë -->
        <div class="team-section">
            <div class="team-header team-b-header">
                <span>–ö–æ–º–∞–Ω–¥–∞ (–ë)</span>
                <span id="teamBName">–ö–û–ú–ê–ù–î–ê "–ë"</span>
            </div>
            
            <table class="roster-table">
                <thead>
                    <tr>
                        <th rowspan="2">‚Ññ</th>
                        <th rowspan="2">–§–∞–º–∏–ª–∏—è –ò–º—è</th>
                        <th rowspan="2">–ö/–ê</th>
                        <th rowspan="2">–ü–æ–∑</th>
                        <th rowspan="2">–ò–≥—Ä</th>
                        <th colspan="6">–í–∑—è—Ç–∏–µ –≤–æ—Ä–æ—Ç</th>
                        <th colspan="6">–£–¥–∞–ª–µ–Ω–∏—è</th>
                    </tr>
                    <tr>
                        <th>#</th>
                        <th>–í—Ä–µ–º—è</th>
                        <th>–ì</th>
                        <th>–ê1</th>
                        <th>–ê2</th>
                        <th>–ò/–°</th>
                        <th>–í—Ä–µ–º—è</th>
                        <th>‚Ññ</th>
                        <th>–ú–∏–Ω</th>
                        <th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th>
                        <th>–ù–∞—á</th>
                        <th>–û–∫–æ–Ω</th>
                    </tr>
                </thead>
                <tbody id="teamBRoster">
                    <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </tbody>
            </table>
            
            <div class="coach-row">
                –ì–ª–∞–≤–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä: <input type="text" id="coachB" class="coach-input" placeholder="–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ">
            </div>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ -->
        <div class="player-stats-protocol">
            <h3><i class="fas fa-chart-line"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤</h3>
            <div class="stats-tables">
                <div class="stats-column">
                    <h4 id="statsTeamATitle">–ö–æ–º–∞–Ω–¥–∞ –ê</h4>
                    <table class="stats-table">
                        <thead>
                            <tr>
                                <th>‚Ññ</th>
                                <th>–ò–≥—Ä–æ–∫</th>
                                <th>–ì</th>
                                <th>–ü</th>
                                <th>–®—Ç—Ä</th>
                                <th>–û</th>
                            </tr>
                        </thead>
                        <tbody id="statsTeamA">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </tbody>
                    </table>
                </div>
                
                <div class="stats-column">
                    <h4 id="statsTeamBTitle">–ö–æ–º–∞–Ω–¥–∞ –ë</h4>
                    <table class="stats-table">
                        <thead>
                            <tr>
                                <th>‚Ññ</th>
                                <th>–ò–≥—Ä–æ–∫</th>
                                <th>–ì</th>
                                <th>–ü</th>
                                <th>–®—Ç—Ä</th>
                                <th>–û</th>
                            </tr>
                        </thead>
                        <tbody id="statsTeamB">
                            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–∞—Ç–∞—Ä–µ–π -->
        <div class="bottom-section">
            <div class="results-section">
                <h3><i class="fas fa-list-ol"></i> –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º</h3>
                <table class="results-table">
                    <tr>
                        <th>–ü–µ—Ä–∏–æ–¥</th>
                        <th>–í–∑—è—Ç–∏–µ –≤–æ—Ä–æ—Ç</th>
                        <th>–®—Ç—Ä–∞—Ñ—ã –í—Ä–µ–º—è</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td><input type="text" class="score-input" id="p1Score"></td>
                        <td><input type="text" class="score-input" id="p1Penalty"></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><input type="text" class="score-input" id="p2Score"></td>
                        <td><input type="text" class="score-input" id="p2Penalty"></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td><input type="text" class="score-input" id="p3Score"></td>
                        <td><input type="text" class="score-input" id="p3Penalty"></td>
                    </tr>
                    <tr>
                        <td>–û–¢</td>
                        <td><input type="text" class="score-input" id="otScore"></td>
                        <td><input type="text" class="score-input" id="otPenalty"></td>
                    </tr>
                    <tr>
                        <td>–ë/–ü</td>
                        <td><input type="text" class="score-input" id="soScore"></td>
                        <td><input type="text" class="score-input" id="soPenalty"></td>
                    </tr>
                    <tr>
                        <th>–û–±—â–∏–π</th>
                        <th><input type="text" class="score-input" id="totalScore"></th>
                        <th></th>
                    </tr>
                </table>
            </div>
            
            <div class="goalies-section">
                <h3><i class="fas fa-shield-alt"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–∞—Ç–∞—Ä–µ–π</h3>
                <table class="goalie-table">
                    <thead>
                        <tr>
                            <th>–ö–æ–º–∞–Ω–¥–∞</th>
                            <th>‚Ññ</th>
                            <th>–í—Ä–∞—Ç–∞—Ä—å</th>
                            <th>–ë—Ä</th>
                            <th>–ü–®</th>
                            <th>–û–ë—Ä</th>
                            <th>%–û–ë—Ä</th>
                            <th>–ö–ù</th>
                            <th>–í–ü</th>
                        </tr>
                    </thead>
                    <tbody id="goaliesTable">
                        <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- –ü–æ–¥–ø–∏—Å–∏ -->
        <div class="signatures">
            <div>
                –ì–ª–∞–≤–Ω—ã–π —Å—É–¥—å—è: <input type="text" id="mainRef" placeholder="–§–∞–º–∏–ª–∏—è –ò.–û.">
            </div>
            <div>
                –ì–ª–∞–≤–Ω—ã–π —Å—É–¥—å—è: <input type="text" id="mainRef2" placeholder="–§–∞–º–∏–ª–∏—è –ò.–û.">
            </div>
            <div>
                –ó–∞–º–µ—á–∞–Ω–∏—è: <input type="text" id="notes" placeholder="–û—Å–æ–±—ã–µ –æ—Ç–º–µ—Ç–∫–∏">
            </div>
            <div style="text-align: right;">
                –î–∞—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è: <input type="text" id="signDate" placeholder="–¥–¥.–º–º.–≥–≥–≥–≥">
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–º–ø–æ—Ä—Ç–∞ CSV -->
    <div id="csvModal" class="modal csv-modal">
        <div class="modal-content">
            <h2><i class="fas fa-file-import"></i> –ò–º–ø–æ—Ä—Ç —Å–æ—Å—Ç–∞–≤–æ–≤ –∫–æ–º–∞–Ω–¥</h2>
            
            <div class="csv-section">
                <h3><i class="fas fa-user-friends"></i> –ö–æ–º–∞–Ω–¥–∞ –ê</h3>
                <textarea id="csvTeamA" placeholder="–§–æ—Ä–º–∞—Ç CSV:
–ù–æ–º–µ—Ä,–§–∞–º–∏–ª–∏—è –ò–º—è,–ü–æ–∑–∏—Ü–∏—è
30,–•–∞–Ω–Ω–∞–Ω–æ–≤ –ê—Ä—Ç—É—Ä,–í—Ä
9,–°–∏—Ä–æ–≥–∏–Ω –ú–∞–∫—Å–∏–º,–ó–∞—â
–ü—Ä–∏–º–µ—Ä—ã –ø–æ–∑–∏—Ü–∏–π: –í—Ä, –ó–∞—â, –ù–∞–ø, –¶, –õ, –ü"></textarea>
                <button onclick="processCSV('A')" class="btn-confirm">
                    <i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –ê
                </button>
            </div>
            
            <div class="csv-section">
                <h3><i class="fas fa-user-friends"></i> –ö–æ–º–∞–Ω–¥–∞ –ë</h3>
                <textarea id="csvTeamB" placeholder="–§–æ—Ä–º–∞—Ç CSV:
–ù–æ–º–µ—Ä,–§–∞–º–∏–ª–∏—è –ò–º—è,–ü–æ–∑–∏—Ü–∏—è
1,–ò–≤–∞–Ω–æ–≤ –ü–µ—Ç—Ä,–í—Ä
5,–°–∏–¥–æ—Ä–æ–≤ –ò–≤–∞–Ω,–ù–∞–ø
–ü—Ä–∏–º–µ—Ä—ã –ø–æ–∑–∏—Ü–∏–π: –í—Ä, –ó–∞—â, –ù–∞–ø, –¶, –õ, –ü"></textarea>
                <button onclick="processCSV('B')" class="btn-confirm">
                    <i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –ë
                </button>
            </div>
            
            <button onclick="closeCSVModal()" class="btn-cancel" style="width: 100%; margin-top: 15px;">
                <i class="fas fa-times"></i> –ó–∞–∫—Ä—ã—Ç—å
            </button>
        </div>
    </div>

    <script src="script.js"></script>
    
    <script>
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        document.addEventListener('DOMContentLoaded', function() {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –≤ –ø–æ–ª–µ –¥–∞—Ç—ã
            const today = new Date().toISOString().split('T')[0];
            const dateInput = document.getElementById('matchDate');
            if (dateInput && !dateInput.value) {
                dateInput.value = today;
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
            const now = new Date();
            const timeInput = document.getElementById('matchTime');
            if (timeInput && !timeInput.value) {
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                timeInput.value = `${hours}:${minutes}`;
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞—Ç—É –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
            const signDate = document.getElementById('signDate');
            if (signDate && !signDate.value) {
                const formattedDate = now.toLocaleDateString('ru-RU');
                signDate.value = formattedDate;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø
            const savedLogo = localStorage.getItem('hockeyLogo');
            if (savedLogo) {
                const logoImage = document.getElementById('logoImage');
                const logoEmoji = document.getElementById('logoEmoji');
                if (logoImage && logoEmoji) {
                    logoImage.src = savedLogo;
                    logoImage.style.display = 'block';
                    logoEmoji.style.display = 'none';
                }
            }
        });
    </script>
</body>
</html>